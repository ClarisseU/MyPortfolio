(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1157:function(e,t,o){var a=o(1158);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0};o(4)(a,r);a.locals&&(e.exports=a.locals)},1158:function(e,t,o){var a=o(5);(e.exports=o(3)(!1)).push([e.i,"/*user resource*/\n/*-----------------------------------------\n * Base Settings\n * ----------------------------------------*/\n/*-----------------------------------------\n * Layout\n * ----------------------------------------*/\n/*-----------------------------------------\n * Mixin\n * ----------------------------------------*/\n#upload-resource-list {\n  position: absolute;\n  top: 70px;\n  bottom: 0;\n  left: 4px;\n  right: 3px;\n  overflow: hidden; }\n  #upload-resource-list .right-extends-panel {\n    display: none;\n    float: none;\n    z-index: 100;\n    position: absolute;\n    width: 144px;\n    top: 46px;\n    background: rgba(255, 255, 255, 0.97);\n    border-radius: 6px;\n    -moz-border-radius: 6px;\n    -webkit-border-radius: 6px;\n    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);\n    -webkit-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1); }\n    #upload-resource-list .right-extends-panel.active {\n      display: block; }\n    #upload-resource-list .right-extends-panel .right-extends-panel-inner {\n      border-radius: 6px;\n      -moz-border-radius: 6px;\n      -webkit-border-radius: 6px;\n      overflow: hidden; }\n      #upload-resource-list .right-extends-panel .right-extends-panel-inner .topTriangle {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 16px;\n        margin-top: -14px;\n        border: 7px solid transparent;\n        border-bottom-color: rgba(255, 255, 255, 0.97); }\n    #upload-resource-list .right-extends-panel .btn {\n      float: none;\n      background: none;\n      width: 100%;\n      height: auto;\n      line-height: 32px;\n      padding: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: #646464;\n      cursor: pointer;\n      border-radius: 0;\n      -moz-border-radius: 0;\n      -webkit-border-radius: 0;\n      text-align: left; }\n      #upload-resource-list .right-extends-panel .btn i {\n        float: left;\n        margin: 8px 6px 0 8px;\n        display: block;\n        width: 18px;\n        height: 18px;\n        background: url("+a(o(1159))+") -36px 0 no-repeat; }\n      #upload-resource-list .right-extends-panel .btn.deleteBtn i {\n        background-position: -180px 0; }\n      #upload-resource-list .right-extends-panel .btn.toBackGround i {\n        background-position: -918px 0; }\n      #upload-resource-list .right-extends-panel .btn.toEditor i {\n        background-position: -936px 0; }\n      #upload-resource-list .right-extends-panel .btn span {\n        position: static;\n        display: inline;\n        padding: 0;\n        background: none;\n        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0);\n        -webkit-box-shadow: 2px 2px 5px rgba(0, 0, 0, 0);\n        -moz-box-shadow: 2px 2px 5px rgba(0, 0, 0, 0); }\n        #upload-resource-list .right-extends-panel .btn span:before, #upload-resource-list .right-extends-panel .btn span:after {\n          display: none; }\n        #upload-resource-list .right-extends-panel .btn span.tip-right {\n          left: auto;\n          right: -11px; }\n          #upload-resource-list .right-extends-panel .btn span.tip-right:before {\n            left: auto;\n            right: 14px; }\n        #upload-resource-list .right-extends-panel .btn span.no-tip {\n          display: inline !important; }\n      #upload-resource-list .right-extends-panel .btn:hover {\n        background: rgba(0, 0, 0, 0.05);\n        box-shadow: 0 0 0 0 #ac975e;\n        -webkit-box-shadow: 0 0 0 0 #ac975e;\n        -moz-box-shadow: 0 0 0 0 #ac975e; }\n        #upload-resource-list .right-extends-panel .btn:hover.deleteBtn i {\n          background-position: -180px -18px; }\n        #upload-resource-list .right-extends-panel .btn:hover.toBackGround i {\n          background-position: -918px -18px; }\n        #upload-resource-list .right-extends-panel .btn:hover.toEditor i {\n          background-position: -936px -18px; }\n        #upload-resource-list .right-extends-panel .btn:hover span {\n          color: #ac975e; }\n      #upload-resource-list .right-extends-panel .btn:active {\n        background: rgba(0, 0, 0, 0.05);\n        box-shadow: 0 0 0 0 #ac975e;\n        -webkit-box-shadow: 0 0 0 0 #ac975e;\n        -moz-box-shadow: 0 0 0 0 #ac975e; }\n        #upload-resource-list .right-extends-panel .btn:active span {\n          color: #ac975e; }\n        #upload-resource-list .right-extends-panel .btn:active.deleteBtn i {\n          background-position: -180px -36px; }\n        #upload-resource-list .right-extends-panel .btn:active.toBackGround i {\n          background-position: -918px -36px; }\n        #upload-resource-list .right-extends-panel .btn:active.toEditor i {\n          background-position: -936px -36px; }\n      #upload-resource-list .right-extends-panel .btn.active {\n        background: none;\n        box-shadow: 0 0 0 0 #ac975e;\n        -webkit-box-shadow: 0 0 0 0 #ac975e;\n        -moz-box-shadow: 0 0 0 0 #ac975e; }\n\n.batchArea {\n  position: relative;\n  width: 100%;\n  height: 50px; }\n\n.batchBox {\n  position: absolute;\n  width: 100%;\n  height: 100%; }\n\n.checkboxBg {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2); }\n\n.resourceTextbtn {\n  position: relative;\n  display: inline-block;\n  float: right;\n  padding: 0 8px;\n  margin: 12px 18px 0 0;\n  line-height: 26px;\n  color: #787878;\n  border: 1px solid #c8c8c8;\n  cursor: pointer; }\n  .resourceTextbtn:hover {\n    border-color: #ac975e;\n    color: #ac975e; }\n  .resourceTextbtn:active {\n    background: #b4b4b4;\n    border-color: #d0c5a9;\n    color: #d0c5a9; }\n\n.resource-info-icon {\n  position: absolute;\n  z-index: 10;\n  display: block;\n  opacity: 0;\n  left: 2px;\n  bottom: 2px;\n  width: 18px;\n  height: 18px;\n  background: url("+a(o(1160))+") no-repeat;\n  transition: opacity .3s;\n  -moz-transition: opacity .3s;\n  -webkit-transition: opacity .3s;\n  -o-transition: opacity .3s; }\n  .resource-info-icon:hover {\n    background-position: 0 -18px;\n    opacity: 1; }\n  .resource-info-icon:active {\n    background-position: 0 -36px; }\n\n.resource-info-expand {\n  cursor: default;\n  z-index: 10;\n  opacity: 0;\n  transition: bottom .3s, opacity .3s;\n  -moz-transition: bottom .3s, opacity .3s;\n  -webkit-transition: bottom .3s, opacity .3s;\n  -o-transition: bottom .3s, opacity .3s;\n  pointer-events: none;\n  position: absolute;\n  left: -4px;\n  top: 22px;\n  box-shadow: 0px 2px 2px rgba(26, 26, 32, 0.06);\n  background-color: #ffffff;\n  font-family: 'Microsoft YaHei', 'OpenSansLight', 'Arial';\n  font-size: 12px; }\n  .resource-info-expand .resource-info-arrow {\n    position: absolute;\n    padding: 6px;\n    top: -12px;\n    left: 3px;\n    width: 8px;\n    height: 6px;\n    background-origin: content-box; }\n  .resource-info-expand .resource-file-name {\n    margin: 10px;\n    color: #808080;\n    line-height: 16px;\n    word-break: break-all; }\n\n.resource-info-icon:hover .resource-info-expand {\n  pointer-events: all;\n  opacity: 1.0; }\n\n.resource-help {\n  width: 100%;\n  height: 100%;\n  background-color: rgba(235, 235, 240, 0.5);\n  cursor: not-allowed;\n  position: absolute;\n  z-index: 10; }\n\n.resource-help-tip {\n  position: absolute;\n  z-index: 11;\n  display: block;\n  padding: 13px;\n  top: 0;\n  left: 0;\n  margin: -21px 0 0 0;\n  background: #282829;\n  color: #c8c8c8;\n  font-size: 12px;\n  font-family: 'Arial';\n  width: 200px;\n  border-radius: 4px;\n  -moz-border-radius: 4px;\n  -webkit-border-radius: 4px;\n  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2); }\n  .resource-help-tip img {\n    width: 174px;\n    height: 128px; }\n  .resource-help-tip .resource-help-tip-close {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    width: 10px;\n    height: 10px;\n    display: block;\n    background: url("+a(o(1161))+") top no-repeat;\n    cursor: pointer; }\n    .resource-help-tip .resource-help-tip-close:hover {\n      background-position: center; }\n    .resource-help-tip .resource-help-tip-close:hover {\n      background-position: center; }\n  .resource-help-tip .resource-help-tip-gotit {\n    float: right;\n    text-decoration: underline;\n    color: #ac975e;\n    cursor: pointer; }\n    .resource-help-tip .resource-help-tip-gotit:hover {\n      color: #bda460; }\n    .resource-help-tip .resource-help-tip-gotit:hover {\n      color: #bda460; }\n\n.upload-space-div {\n  position: absolute;\n  left: 4px;\n  width: 300px;\n  bottom: 0; }\n\n.upload-space-progress-bar {\n  position: relative;\n  width: 100%;\n  height: 10px;\n  margin: auto;\n  background: rgba(120, 120, 120, 0.9);\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;\n  -moz-box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;\n  -webkit-box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;\n  border-radius: 10px;\n  -moz-border-radius: 10px;\n  -webkit-border-radius: 10px;\n  overflow: hidden; }\n  .upload-space-progress-bar div {\n    position: absolute;\n    left: 0;\n    width: 0;\n    height: 10px;\n    border-radius: 10px;\n    -moz-border-radius: 10px;\n    -webkit-border-radius: 10px;\n    background: #5db361;\n    transition: width .3s;\n    -webkit-transition: width .3s;\n    -moz-transition: width .3s; }\n    .upload-space-progress-bar div.error-icon {\n      display: none; }\n  .upload-space-progress-bar.warning div {\n    background-color: #f9a43f; }\n  .upload-space-progress-bar.full div {\n    width: 100%;\n    background: #d54862; }\n\n.space-warning-icon {\n  display: none;\n  margin-left: 10px;\n  width: 14px;\n  height: 14px;\n  background: url("+a(o(1162))+") 0 0 no-repeat; }\n\n.space-full-icon {\n  display: none;\n  margin-left: 10px;\n  width: 14px;\n  height: 14px;\n  background: url("+a(o(1163))+") 0 0 no-repeat; }\n\n.spaceCloud {\n  display: block;\n  margin: auto;\n  width: 52px;\n  height: 34px;\n  background: url("+a(o(1164))+") 0 0 no-repeat; }\n\n.upload-resource-noImage-SingIn {\n  text-decoration: underline;\n  color: #ac975e;\n  text-align: center;\n  width: 100%;\n  cursor: pointer;\n  font-size: 14px;\n  padding-top: 15px; }\n",""])},1159:function(e,t,o){e.exports=o.p+"images/white-icons3adc79d02171fac60e99f632af02e2a1.png"},1160:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAA2CAYAAADK88l3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABNFJREFUeNqUV1FMm1UUvu3fDhRo6WQM3RCkZDTDxRHBUTKl2R5IyLZCTOiDJgQTjOzJxMSwJ+BpqC8+TRMfiIkkQrIhRBScmDqzbmPKGMJErVUHrCt0DtZSoKXUc/6ddvD33r/0JB//5T/nfJx77jnnv2g6OzuZUuCdBR6VgDLAXnr9H+B3wM+gn1X6aLYTwboAHm8ADjF1+QPQC/b34y+020jQ+dwuSBjZnCOfJ0QUyVlAJtu9oO1Z8mUawvuAEp61yzV+Bp81Na8MCQg9gA8xIouIJJFIjUZNjb4WtHgT8KqaZU5OjhQOh2MbGxtbApOf4hFxpbW1tXBmZub0ysrKW/Pz8w6Vv2XRwQ8TT9PX13esqanppfjvS0tLQRUikwQ/6gA6pWZ0dPS+0WgMV1VVHdwCaW5u/t7tdocERFu4tRWeJhAIROvq6sy4HhgYmB4ZGfGrRLSMRH/zNJWVlQaz2bxvfX093NbW9kuKmnLjlsYB1UqN1WqVewxOarOiosIQDAY3Q6FQdHJykperG5gjDPmwMulw3JsOh6MkMzNzT3l5efbCwkJgeHjYLyjIQblpqczbAU+x9GQN8AH4e+O9hl18AbCeBgnaXkASZffjaDhPoaYStDlPPrJINpstoYV10Ol0umD5FyACyAJk0BrzcwvwFeYESHYkXceZjrEX93sKqP9OAJ4n1V3ADwDvtK/kjtJvBxEQYN99gsFxtlNKeBvsnPBsA8LZpAkJylqqKdsucoQ24+TzhIgiGcSJkcapoe0g+TItLHAm9QCMPOujtndlCAR9epADIzrJa5GdI1JVi74nMdlNalaTzo+ZJOmZRiux2FZUZNakoyPmyv7CI6ys4hTLe7aMrQUfsG973xOZnkCiQp7mSLWDHTpan/g9BEQqUog52uBp7ty8xH699qW8xi3dvtqrmigkusdTRKMRdtB87PHUmr7Mlv3/qvHMa6kIkyTLsI+Z8l9gkfAaRDeQqqauIhE3ZuPex6mLboaBNJ9lGwvY0zl5IqIvkOg7wPWkaf7gLltbfch0+gx2uKoRiPJZKMCd/+h7WZ6QVObXRdWtIvgFskLz/ib3GnWxHb9CaZCgrR1J5OKPxWIJzcVPmy3Ud9UpSDD6ltff+Xy2q6tr5xhBQQXeYOjr+xmNVJyOq4BZeoe6GrIVT0gwwBDx07wM8G2zeUjvUBdTnZA0AbspKqUUE/Aa5KLPlztpQmL2Ad8ISJRSQ7ZWJVEpJTk7jVND256Ojo7S+Knh2ML74cs86+7u7mfw2d7eLmp/vGCcwYiOi0jisr1EOIK+xzGij+iSLpRIJKKRJCmm1WpFJr1I5KLTSJKpqakMuGBlezyePbm5uVHY5qKA6B88/gM8TX9/v2FsbCwrcUk0maIqQR8QTsjGxsaA3W5/JB8tbAnuSo9STUgfT6HX62MTExPyfam2tna1uLg4osJzT0s3jCRZXFyU5ubm9HBjizU0NKSaCjeR6BJPgyTxyHw+n87r9er8fr8kILqIRD9SUe2QoqKiiMFgiMJdUjM0NJSNEebl5UUFBXklPo+wzL8GGNKckHgAp2Em/RmvMOziFkAwDRK0bUESZfdfA9TztinYTj35cOcRRob/6L0GOEV9+BxNSfyQ3qAUXFEOt/8FGABocLPHTn9CAQAAAABJRU5ErkJggg=="},1161:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAeCAYAAAAVdY8wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFODNGMzY5NTFGNTlFNjExQkJBQkE3OENBRjM3NDFBRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNzI0RjI1MjNBQTcxMUU3QUQyMkY3QzY2RTAyNUVDRiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNzI0RjI1MTNBQTcxMUU3QUQyMkY3QzY2RTAyNUVDRiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjkxODZFNDlEQTYzQUU3MTE5MTI4QkIyRDA1Qjg0MDA4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU4M0YzNjk1MUY1OUU2MTFCQkFCQTc4Q0FGMzc0MUFFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7rrFPwAAAWlJREFUeNqcUztOw0AQHSeUJFQ+gCssQeGeyshVLuEm6SntC+CSA7ixi1Q5AYWJEL6AC1+CdICQXJk3y64z+IMIKz3teObNzufJ1LYtRVFkAQu2JdjHMbbnTdNYRPQA3BdFsQuC4BM2xXFs43oBLuF/PIOxBALgCtiD4NP32Wsfn6V6VmebQK2Dxr5NkuRVEUUp+UpH4o8Z/X5aY8xGXqs1TM8cU1Nf4H4GrjWBh8mBlSavMPWWp34DngBek4+eDrqKr6sUivPXhfOL5Lru6CTSP3ccp1Omqqqd53lKmTzPO2XgHyoDwrQyOntSmTAMj8r0yCRJpyszUroWPStlrCzLWJmypwz1Em8GyqCng67yQxkzNZPOQXqXDcK/wPUBf6t6LMtSoX+k31qv10YZXrqfpqkqvdlsbFH6bqAMCNPKiOxRZVDlqEyPTJJ0ujIjpWvRs22m/p8yYj3Df4Z3CQz+GfZxjO0vAQYA4egIj6b0Un0AAAAASUVORK5CYII="},1162:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDY5NkYwODNDNTQzMTFFNzg2M0RGNTUxQ0EwQTFFRjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDY5NkYwODRDNTQzMTFFNzg2M0RGNTUxQ0EwQTFFRjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENjk2RjA4MUM1NDMxMUU3ODYzREY1NTFDQTBBMUVGMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENjk2RjA4MkM1NDMxMUU3ODYzREY1NTFDQTBBMUVGMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po8TygkAAADZSURBVHjaYvz//z8DDPxa6iACpIqA2AeI1aDCN4B4ExBPYos+8AamlhGmEagpGEjNBWJ+BuzgExAnATWvhWuEaloN4jPgByBbQkGaGX8usRcFcu4AMR+yCla3yWD6965cbDarsgCJXHRNYKeI6uKyFaS2gAlI+DGQDnxAGjXI0KjOgjMUXl/GF1a/WKDxpI8ugyVQkME9JmjkYgBQqMJCFgvYCtI4BRrEWAAjroQwgewEALKRAZqMwoD4Mx5Nn2GaUNIqWiL3BQU5SAiIb4H8BMQTkRM5QIABAA4CTT3X4OBAAAAAAElFTkSuQmCC"},1163:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REU0RjM3RTNDNTQzMTFFNzlDNjZGNzY1MEY3NjhBQTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REU0RjM3RTRDNTQzMTFFNzlDNjZGNzY1MEY3NjhBQTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERTRGMzdFMUM1NDMxMUU3OUM2NkY3NjUwRjc2OEFBMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERTRGMzdFMkM1NDMxMUU3OUM2NkY3NjUwRjc2OEFBMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvFYj0UAAADbSURBVHjaYvz//z8DDFzzTBYBUkVA7APEalDhG0C8CYgnaW2f+wamlhGmEagpGEjNBWJ+BuzgExAnATWvhWuEaloN4jPgByBbQkGaGa96JIkCOXeAmA9ZhUJPBZh+UNKBzWZVFiCRi64JBLi0VXHZClJbwAQk/BhIBz4gjRpkaFRnwSXz7eptYFDhDKtfoMC5AGTok2jjJSZo5GIAUKjCQhYL2ArSOAUaxJgAu1NBaieQnwCQklwIkJoHxLw4NH0G4kSUJIclkfuCghwUekB8C+QnIJ6InMgBAgwA6g5Pg4B0FAMAAAAASUVORK5CYII="},1164:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAiCAYAAAAQ9/ptAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MThBREQyRkNDMkQ3MTFFNzkyMEZCMEM3NzEwNEMzQjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MThBREQyRkRDMkQ3MTFFNzkyMEZCMEM3NzEwNEMzQjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxOEFERDJGQUMyRDcxMUU3OTIwRkIwQzc3MTA0QzNCMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxOEFERDJGQkMyRDcxMUU3OTIwRkIwQzc3MTA0QzNCMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv0lAncAAAPuSURBVHja1Jl5SBRhGMZna7PSKLHT7qj8o0OzmyCL7VLQspOs7NBE7T4IiqIiiIIiotMgsTQygrRDizLDLLOCzCKK7LRIO6WygjapnheehakcdXdmdvOFHzO7fjM7z7zf9x6floyk6YqB1hqMByNAH9AZ+AI7+AQegVvgIsjh97psYnz6H5+tBgkZCFaDCRr3bErageFgGagAB8AO8N6oN9pA5/Xy9lPATTCZYjLBPDCAHmsEfEB7em4NuAT8eC5eWwgsRgjS46FgcJLTSiwJbARvqhlbBb6BcpAPttJTK0Ak2ANCwQxQ6QkPhfDBREw26AkSNcRo2RVZAiAKvAThIA+0cLeg3uA0aAbS+CCPdTzDMXrrBugPzgMvdwnyBhl8i0fBbIPWcimYCorAELDNXYLWgwCQC2YpxppMuzieLwJDzRYkUWoJzzeAX4rxVsRQLs+1xWxBicwlx0GBYp6Jdx6AkSDITEEzedyvmGtVzFNi0WYJ6gG6MZrlKeZbGo+jzRIUzGOx4h4rUqUIp0J4XSuFrjw+c5OgH5x2NrAYfARvGQnvcVq65CE/liQh/Hy1hrFhoIyE1XLfuozdzeN2cJDJ/DZ4B/aqSq4/zKLRPoSzIpZI01CVJwL5tqozeTh/npczzCs6x0ayipAiuA3oCPrxb3aG9k1oIX5qeaglOAfOgFEUI6XIulrE/POinJheNY2V4ncliAURXMtBrFK8mA+zMw9EeVcnKICLMZRrRfqbJvy8uQ5i5oPX4BUfwKixf9tdppDRfE55vlSIsqiDgnjmgqp6juNUcMbOqqaRkWO1LJeiCtmLLQU7HR7aBbrwhya5IMZT9hQscJRj8JKvCOrLnsRR3tiVemQICCdwyGLgmC2CYrgwpeN8odRPS3WkAyvDoliyQTe3MG+N4R6ClE2twHduhpSyW81h12tE1X6Nx0AR1EmVZ/QKmQNWgV4aVYkP16oIXgvus5k7rFOYo/Vva2WEE/ug44aduftjU+0X5NMLJfRMY3qqC70XwtmRwqo6ht5zxRz1nt3KGsmfmbjMxRsWMts/5BtP1qjPvoDn4DK/i6VHbZw2HVz8fUet+VyCwh1+sOnwkIg5BQY7uRZl7CBe217H70/jsaABywtF5x6BhXXXZxeureS1ejYaIxw7SCLoCKfdOOahemVIpoe4/XUDOSlXBH0Fy/n3fTqnnrttPyOr7MomqItTqV73qGqkpP9cSHO26QkM99HwTvHfHatsUVWwVYhn35HFVuIJI5SnbRjLtAiGf1l/cyEmo6YGz8bQ2/8/95IU0sshpqS2PQXp5eX/PWPBFIbi7szynrbrTNjpWhs2vwUYAIh86fqeFfVyAAAAAElFTkSuQmCC"},1165:function(e,t,o){e.exports=o.p+"images/userResource172f103f231aad2f8ef9717bce821a23.gif"},764:function(e,t,o){(function(t,a,r,n){var s=o(29),i=d(o(37)),l=d(o(7)),c=(d(o(16)),d(o(19)),d(o(15)));function d(e){return e&&e.__esModule?e:{default:e}}o(1157);var p=o(50).default,h=o(21).default,u=o(10),g=o(6),m=g({displayName:"UserResource",mixins:[u,Fotor.Evented,Fotor.mixin],getInitialState:function(){return{spaceIsFull:!1,spaceProgress:0,hadUsedSpace:0}},componentWillUnmount:function(){Fotor.loginStateManager.off(c.default.LOGIN,this.refreshList),Fotor.resourceManager.off("userSpaceChecked",this.refreshList),Fotor.resourceManager.needBackgroundGuide=!1},componentDidMount:function(){Fotor.loginStateManager.on(c.default.LOGIN,this.refreshList),Fotor.resourceManager.on("userSpaceChecked",this.refreshList),this.refreshList()},refreshList:function(){this.setState({spaceIsFull:Fotor.resourceManager.spaceIsFull,spaceProgress:Fotor.resourceManager.spaceProgress,hadUsedSpace:Math.max(0,Math.round(Fotor.resourceManager.hadUsedSpace/1048576*100)/100)})},expandClick:function(e){if(!Fotor.resourceManager.needBackgroundGuide){var t=Fotor.vipResManager.getUpgradeContent("space");Fotor.common.User.useVipResource(t,null,Fotor.routerManager.getToolPath()+"/space")}},render:function(){var e=FotorUser.getLoginedUser(),o=FotorUser.checkIsVip(),a=Fotor.loginStateManager.isAdmin(),r="",n=this.state.spaceIsFull,s="500M";o||(s="50M"),a&&(s="999999M");var i=this.state.hadUsedSpace;null==i||null==i?(n=!0,r="error"):r=i+"M/"+s;var l=this.state.spaceProgress>30&&this.state.spaceProgress<100,c=l||this.state.spaceIsFull,d=Fotor.resourceManager.needBackgroundGuide?"not-allowed":"pointer";return t.createElement("div",{className:"toolbar"},Fotor.dragFile&&e&&t.createElement("div",{className:"upload-dragFile"},t.createElement("div",{className:"upload-dragFileImg"})),t.createElement("div",{className:"toolbar-title"},Fotor.globalConfig.lang.common_workspace_upload_userResourceButton),t.createElement("div",{className:"toolbar-list",style:{top:"56px"}},t.createElement(f,null),t.createElement(b,null),e&&t.createElement("div",{className:"upload-space-div"},t.createElement("div",{className:"upload-space-progress-bar "+(this.state.spaceIsFull?"full":"")+(l?"warning":"")},t.createElement("div",{style:{width:this.state.spaceProgress+"%"}})),t.createElement("div",{className:"pull-left marginT5",style:{color:n?"#eb1c1c":"#787878"}},r,t.createElement("div",{className:(l?"space-warning-icon":"")+(this.state.spaceIsFull?"space-full-icon":""),style:{display:c?"inline-block":"none"}})),!o&&t.createElement("div",{className:"pull-right marginT5",style:{color:"#ac975e",cursor:d},onClick:this.expandClick},Fotor.globalConfig.lang.common_workspace_upload_spacefull_confirm))))}}),f=g({displayName:"UploadBtn",componentDidMount:function(){var e=this.refreshBtn;Fotor.loginStateManager.on(c.default.LOGIN,e),Fotor.loadingScreen.hide()},componentWillUnmount:function(){var e=this.refreshBtn;Fotor.loginStateManager.off(c.default.LOGIN,e)},refreshBtn:function(){this.forceUpdate()},loadFileFromComputer:function(e){if(FotorUser.getLoginedUser()){if(Fotor.resourceManager.spaceIsFull&&!FotorUser.checkIsVip()){FotorAnalytic.event("upload_panel","spaceFullPop","resource_click_spaceFullPop");var t=Fotor.globalConfig.lang.common_workspace_upload_spacefull_title;Fotor.popup.doPopup({title:'<div><div class="spaceCloud"></div><div style="margin-top:10px">'+t+"</div></div>",content:Fotor.globalConfig.lang.common_workspace_upload_spacefull_content,confirmBtnText:Fotor.globalConfig.lang.common_workspace_upload_spacefull_confirm,cancelBtnFunc:function(){FotorAnalytic.pageView("/count/cloudimagesLimit/close1",Fotor.routerManager.getToolPath())}},(function(){var e=Fotor.vipResManager.getUpgradeContent("space");Fotor.common.User.useVipResource(e,null,Fotor.routerManager.getToolPath()+"/space"),FotorAnalytic.pageView("/count/cloudimagesLimit/upgrate1",Fotor.routerManager.getToolPath())})),FotorAnalytic.pageView("/count/cloudimagesLimit/show1",Fotor.routerManager.getToolPath())}else Fotor.resourceManager.startImportPhoto();e.stopPropagation(),e.preventDefault(),FotorAnalytic.event("upload_panel","openimage","openimage_uploadResource"),FotorAnalytic.pageView("/count/try_open_photo_uploadResource/"+Fotor.routerManager.moduleName+"/"+Fotor.routerManager.childModuleName,Fotor.routerManager.getToolPath())}else{var o=Fotor.vipResManager.getLoginContent("useYourOwn");FotorUser.show(o,!1)}},render:function(){return t.createElement("div",{id:"userUploadBtn"},t.createElement(Fotor.ui.Button,{className:"marginT5 ",ref:"uploadFileBtn",enable:!Fotor.dragFile,text:Fotor.globalConfig.lang.common_workspace_upload_addResourceButton,onClick:this.loadFileFromComputer},t.createElement("i",{className:"add-icon-22 upload-resource pull-right"})))}}),b=(g({displayName:"UploadGuide",getInitialState:function(){return{gif:"",tip:""}},componentDidMount:function(){},componentWillUnmount:function(){},helpClose:function(){Fotor.resourceManager.needBackgroundGuide=!1,this.forceUpdate(),this.props.tool&&this.props.tool.forceUpdate()},render:function(){this.state.gif=o(1165);var e=42;return a("body").width()<Fotor.holderWidth()&&(e=4),t.createElement("div",null,t.createElement("div",{className:"resource-help-tip",style:{display:"block",top:90,left:e}},t.createElement("img",{src:this.state.gif}),t.createElement("div",null,Fotor.globalConfig.lang.common_workspace_upload_setAsBackground),t.createElement("span",{className:"resource-help-tip-close",onClick:this.helpClose}),t.createElement("span",{className:"resource-help-tip-gotit",onClick:this.helpClose},Fotor.globalConfig.lang.newbieGuide_readBtn)))}}),g({displayName:"UploadList",getInitialState:function(){return{items:[],loadingNextPage:!1,loadFinish:!0,loading:!1,photoW:94,minWindow:null,maxHeight:0,showMenuResId:null,isUploading:!1,searchPageNo:1,beingGetNext:!1,hdrMode:!1,isBatchMode:!1,selectedAllMode:!1}},canloadLocalData:function(){var e=FotorUser.getLoginedUser(),t=!0;(!e||e&&!e.userId)&&(t=!1),t&&this.loadServerPhotosList()},loadServerPhotosList:function(){var e=this;FotorAnalytic.pageView("/getUserResource",Fotor.routerManager.getToolPath()),this.setState({loading:!0,loadFinish:!1});var t="https://gw.fotor.com/v2/userResource/list?type=0&category=0&"+Fotor.randomKey;Fotor.services.loadData("resource_list"+Fotor.randomKey,t,Fotor.globalConfig.designMode,!1,(function(t,o){e.setDataLater(t,o)}),!0,20,this.state.searchPageNo)},loadNextPagePhotosList:function(){var e=this;if(!this.state.loading&&!this.state.loadFinish&&!this.state.beingGetNext){this.state.beingGetNext=!0,e.state.searchPageNo=e.state.searchPageNo+1;var t="https://gw.fotor.com/v2/userResource/list?type=0&category=0&"+Fotor.randomKey;Fotor.services.loadData("resource_list"+Fotor.randomKey,t,Fotor.globalConfig.designMode,!1,(function(t,o){e.setDataLater(t,o)}),!0,20,this.state.searchPageNo)}},setDataLater:function(e,t){var o=[];if(e&&e.length>0)for(var a=0;a<e.length;a++)0==e[a].fileState&&o.push(e[a]);Fotor.resourceManager.addResourcePhoto(o,!0),FotorUser.getLoginedUser()&&Fotor.photoManager.photos&&Fotor.photoManager.photos.length>0&&!Fotor.resourceManager.spaceIsFull&&Fotor.resourceManager.addResourcePhoto(Fotor.photoManager.getPhotosWithOutSkip(),!1),Fotor.resourceManager.addSnapShotPhoto(),Fotor.photoManager.syncTwoManagerPhotosStatus(),Fotor.resourceManager.syncTwoManagerPhotosStatus(),t?(this.state.loadFinish=!0,this.state.loadingNextPage=!1):this.state.loadingNextPage=!0,this.state.beingGetNext=!1,this.state.loading=!1,this.resizeMe(),this.setState({loading:!1,items:this.getPhotosPos()})},getPhotosPos:function(){var e=[];if(Fotor.resourceManager.photos&&Fotor.resourceManager.photos.length>0)for(var t=0;t<Fotor.resourceManager.photos.length;t++)Fotor.resourceManager.photos[t].usable&&e.push({file:Fotor.resourceManager.photos[t],pos:{}});if(0==e.length)return a("#upload-resource-list .scrollarea-content").css("height","auto"),this.refs.scrollArea.handleWindowResize(),e;for(var o,r=0,n=0,s=0,i=0,l=0,c=0,d=0,p=0;p<e.length;p++)p<3?(e[p].pos={left:(this.state.photoW+9)*p,top:0,scPos:p},n=1!=e[p].file.fileHeight&&1!=e[p].file.fileWidth?e[p].file.fileHeight*this.state.photoW/e[p].file.fileWidth:40,0==p?s=n:1==p?i=n:2==p&&(l=n)):(n=e[p].file.fileHeight*this.state.photoW/e[p].file.fileWidth,o=c+6,0==r?(s+=n+6,e[p].pos={left:0,top:o,scPos:0}):1==r?(i+=n+6,e[p].pos={left:this.state.photoW+9,top:o,scPos:1}):2==r&&(l+=n+6,e[p].pos={left:2*(this.state.photoW+9),top:o,scPos:2})),c=Math.min(s,i,l),d=Math.max(s,i,l,300),c==s?r=0:c==i?r=1:c==l&&(r=2);var h=98;return a("#userUploadBtn")&&a("#userUploadBtn").height()>40&&(h=a("#userUploadBtn").height()+56),a("#upload-resource-list").css("top",h+"px"),a("#upload-resource-list").css("bottom","45px"),a("#upload-resource-list .scrollarea-content").css("width","100%"),a("#upload-resource-list .scrollarea-content").css("height",d+60+"px"),this.state.maxHeight=d,d+45<a("#toolbar").height()-140&&this.loadNextPagePhotosList(),e},componentDidMount:function(){this.state.searchPageNo=1,this.mounted=!0,Fotor.photoManager&&Fotor.resourceManager?this.canloadLocalData():Fotor.app.on(l.default.INIT_FINISHED,this.canloadLocalData),Fotor.loginStateManager.on(c.default.LOGIN,this.loadServerPhotosList),Fotor.photoManager.on("SyncToResource",this.SyncToResource),Fotor.resourceManager.on("SyncToPhotos",this.SyncToPhotos),Fotor.photoManager.on(i.default.CHANGE,this.handlePhotosChanged),Fotor.resourceManager.on(i.default.CHANGE,this.handlePhotosChanged),window.addEventListener("layoutChange",this.resizeMe),Fotor.app.on("photoThumbReady",this.handlePhotosChanged),Fotor.app.on(l.default.HDR_MODE_CHANGE,this.HDRModeChange),Fotor.app.on(l.default.HDR_PHOTO_CHANGE,this.updatePhotoList),this.resizeMe()},componentWillUnmount:function(){this.state.searchPageNo=1,this.mounted=!1,Fotor.app.off(l.default.INIT_FINISHED,this.canloadLocalData),Fotor.loginStateManager.off(c.default.LOGIN,this.loadServerPhotosList),Fotor.photoManager.off("SyncToResource",this.SyncToResource),Fotor.resourceManager.off("SyncToPhotos",this.SyncToPhotos),Fotor.photoManager.off(i.default.CHANGE,this.handlePhotosChanged),Fotor.resourceManager.off(i.default.CHANGE,this.handlePhotosChanged),window.removeEventListener("layoutChange",this.resizeMe),Fotor.app.off("photoThumbReady",this.handlePhotosChanged),Fotor.app.off(l.default.HDR_MODE_CHANGE,this.HDRModeChange),Fotor.app.off(l.default.HDR_PHOTO_CHANGE,this.updatePhotoList)},HDRModeChange:function(e){var t=e.params[0];this.setState({hdrMode:t})},resizeMe:function(){var e=a("body").width();this.state.showMenuResId=null,null==this.state.minWindow?e<Fotor.holderWidth()?(this.state.minWindow=!0,this.state.photoW=70,this.setState({showMenuResId:null,items:this.getPhotosPos(),minWindow:!0,photoW:70})):(this.state.minWindow=!1,this.state.photoW=94,this.setState({showMenuResId:null,items:this.getPhotosPos(),minWindow:!1,photoW:94})):e<Fotor.holderWidth()&&!this.state.minWindow?(this.state.minWindow=!0,this.state.photoW=70,this.setState({showMenuResId:null,items:this.getPhotosPos(),minWindow:!0,photoW:70})):e>=Fotor.holderWidth()&&this.state.minWindow&&(this.state.minWindow=!1,this.state.photoW=94,this.setState({showMenuResId:null,items:this.getPhotosPos(),minWindow:!1,photoW:94}))},updatePhotoList:function(){this.forceUpdate()},SyncToResource:function(){Fotor.resourceManager.syncTwoManagerPhotosStatus()},SyncToPhotos:function(){Fotor.photoManager.syncTwoManagerPhotosStatus()},handlePhotosChanged:function(e){var t;e.params&&(t=e.params[0]);var o=this;Fotor.photoManager.syncTwoManagerPhotosStatus(),Fotor.resourceManager.syncTwoManagerPhotosStatus(),FotorUser.getLoginedUser()&&!Fotor.resourceManager.spaceIsFull&&Fotor.resourceManager.addResourcePhoto(Fotor.photoManager.getPhotosWithOutSkip(),!1),Fotor.resourceManager.addSnapShotPhoto(),this.checkPhotoIsUploading(),this.setState({items:o.getPhotosPos()}),"removePhoto"==t&&setTimeout((function(){o.refs.scrollArea&&o.refs.scrollArea.handleWindowResize()}),500)},checkPhotoIsUploading:function(){var e=this;e.state.isUploading||Fotor.resourceManager.hasUnsyncedPhotosDesignMode()&&(e.state.isUploading=!0,a(".icon-cloud-arrow").addClass("cloudArrowAnimateClass"),setTimeout((function(){a(".icon-cloud-arrow").removeClass("cloudArrowAnimateClass"),e.state.isUploading=!1,e.checkPhotoIsUploading()}),6e3))},handlePhotosDelete:function(e){var t;e.params&&(t=e.params[0]),Fotor.resourceManager.removePhoto(t),this.setState({items:this.getPhotosPos()})},handleScroll:function(e){e.realHeight<e.containerHeight&&a("#upload-resource-list .scrollarea-content").stop().animate({"margin-top":"0px"},200),this.hideExtendPanle(),e.topPosition+e.containerHeight==e.realHeight&&this.state.loadingNextPage&&!this.state.loadFinish&&this.loadNextPagePhotosList()},showLoginPop:function(e){if(!FotorUser.getLoginedUser()){var t=Fotor.vipResManager.getLoginContent("useYourOwn");FotorUser.show(t,!1)}},showExtendPanle:function(e,t,o,r){var n=this;this.state.showMenuResId&&this.state.showMenuResId==e?this.hideExtendPanle():(this.state.showMenuResId=e,this.setState({showMenuResId:e}),setTimeout((function(){a(n.refs.rightExtendPanel)&&(a(n.refs.rightExtendPanel).css("left",t+"px"),a(n.refs.rightExtendPanel).css("top",o+"px"),0==r?a(n.refs.topTriangle).css("left","18px"):1==r?a(n.refs.topTriangle).css("left","58px"):2==r&&a(n.refs.topTriangle).css("left","108px"),a(n.refs.rightExtendPanel).addClass("active"),a(document).on("mousedown",n.handleMouseDown))}),10))},hideExtendPanle:function(){this.state.showMenuResId=null,this.setState({showMenuResId:null}),a(".upload-item-more").removeClass("active"),a(this.refs.rightExtendPanel)&&a(this.refs.rightExtendPanel).removeClass("active"),a(document).off("mousedown",this.hideExtendPanle)},handleMouseDown:function(e){var t=e.target;if(a(t).hasClass("right-extends-panel-inner")||a(t).parent().hasClass("right-extends-panel-inner")||a(t).parent().parent().hasClass("right-extends-panel-inner"))return!1;this.hideExtendPanle()},handleToBackGroundClick:function(){Fotor.exportPop.state.defaultTransparent=!1,Fotor.mainCanvas.beforeBatchModify();var e=Fotor.resourceManager.getPhotoById(this.state.showMenuResId);(e=FotorUtils.Object.simpleClone(e)).useOwn=!0,Fotor.mainCanvas.setBackgroundObject(e,!0,Fotor.mainCanvas.afterBatchModify.bind(Fotor.mainCanvas)),this.hideExtendPanle()},handleToEditorClick:function(){if(!Fotor.resourceManager.spaceIsFull){var e=Fotor.resourceManager.getPhotoById(this.state.showMenuResId);if(e&&"editor"!=Fotor.routerManager.moduleName){var t=e.fileUrl;Fotor.plusEditorManager.showEditorWindow(t,this.handlePlusReturn)}else e&&"editor"==Fotor.routerManager.moduleName&&Fotor.app.trigger("custome_photoClick",e,"byMenu");this.hideExtendPanle(),this.forceUpdate()}},handlePlusReturn:function(e,t){Fotor.progressBar.hide(),r(e.data,(function(o){var a,r=ImageTools._toBlob(o,"image/"+e.format);/Edge/.test(navigator.userAgent)?(r.lastModifiedDate=new Date,r.name="plusReturn."+e.format,a=r):a=new File([r],"plusReturn."+e.format),Fotor.resourceManager.addPhotoFromLocalFile(a,"plusReturn."+e.format,void 0,o.width,o.height),t&&t()}),{canvas:!0})},handleDeleteClick:function(){var e={resId:this.state.showMenuResId};Fotor.resourceManager.removePhoto(this.state.showMenuResId),this.setState({items:this.getPhotosPos()}),this.hideExtendPanle(),FotorUtils.Ajax.request("https://gw.fotor.com/v2/resource/delete",{method:"post",dataType:"json",data:e,error:function(e){},success:function(e){},fail:function(e){}})},switchToBatchMode:function(){this.hideExtendPanle(),this.state.isBatchMode=!0,this.state.selectedAllMode=!1;for(var e=0;e<this.state.items.length;e++)this.refs["UploadPhotoItem_"+e].state.selected=!1;this.refs.selectCheckbox.setSelect(!1),this.forceUpdate()},quitBatchMode:function(){this.hideExtendPanle(),this.state.isBatchMode=!1,this.state.selectedAllMode=!1;for(var e=0;e<this.state.items.length;e++)this.refs["UploadPhotoItem_"+e].state.selected=!1;this.refs.selectCheckbox.setSelect(!1),this.forceUpdate()},batchDelete:function(){var e,t=this,o=[];if(this.state.selectedAllMode)Fotor.popup.doPopup({title:Fotor.globalConfig.lang.common_uploadList_deleteAll_photo,confirmBtnText:Fotor.globalConfig.lang.common_uploadList_clear_confirmBtn,cancelBtnText:Fotor.globalConfig.lang.common_uploadList_clear_cancelBtn,cancelBtnFunc:function(e){t.forceUpdate()}},(function(){e={resId:"all"},Fotor.resourceManager.clearAll(),t.setState({items:t.getPhotosPos()}),FotorUtils.Ajax.request("https://gw.fotor.com/v2/resource/delete",{method:"post",dataType:"json",data:e,error:function(e){},success:function(e){},fail:function(e){}})}));else{for(var a=0;a<t.state.items.length;a++)t.refs["UploadPhotoItem_"+a].state.selected&&o.push(t.state.items[a].file.resId);if(0==o.length)return;var r=Fotor.globalConfig.lang.common_uploadList_deletesome_photo.replace("d%",o.length);Fotor.popup.doPopup({title:r,confirmBtnText:Fotor.globalConfig.lang.common_uploadList_clear_confirmBtn,cancelBtnText:Fotor.globalConfig.lang.common_uploadList_clear_cancelBtn,cancelBtnFunc:function(e){t.forceUpdate()}},(function(){for(var a=0;a<t.state.items.length;a++)t.refs["UploadPhotoItem_"+a].state.selected&&(t.refs["UploadPhotoItem_"+a].state.selected=!1);e={resId:o.join(",")},Fotor.resourceManager.removePhotos(o),t.state.items=t.getPhotosPos(),t.forceUpdate(),FotorUtils.Ajax.request("https://gw.fotor.com/v2/resource/delete",{method:"post",dataType:"json",data:e,error:function(e){},success:function(e){},fail:function(e){}})}))}},handleCheckboxClick:function(){var e=this;this.state.selectedAllMode=this.refs.selectCheckbox.isSelected();for(var t=0;t<this.state.items.length;t++)this.refs["UploadPhotoItem_"+t].state.selected&&(this.refs["UploadPhotoItem_"+t].state.selected=this.state.selectedAllMode);this.forceUpdate(),setTimeout((function(){e.forceUpdate()}),50)},updataSelectedAllMode:function(){for(var e=0;e<this.state.items.length;e++)this.refs["UploadPhotoItem_"+e].state.selected||(this.refs.selectCheckbox.setSelect(!1),this.state.selectedAllMode=!1);this.forceUpdate()},progress:[],render:function(){var e=this,o=this,a=o.state.items,r=FotorUser.getLoginedUser(),n=!0;(!r||r&&!r.userId)&&(n=!1);var s=a.length>0,i=!1;if(s&&n)for(var l=0;l<this.state.items.length;l++)this.state.isBatchMode&&this.refs["UploadPhotoItem_"+l]&&this.refs["UploadPhotoItem_"+l].state.selected&&(i=!0);return t.createElement("div",null,s&&n&&!this.state.loading&&t.createElement("div",{className:"batchArea"},t.createElement("div",{className:"resourceTextbtn",style:{display:this.state.isBatchMode?"none":"inline-block"},onClick:function(){return e.switchToBatchMode()}},Fotor.globalConfig.lang.entry_batch_management),t.createElement("div",{style:{display:this.state.isBatchMode?"block":"none"}},t.createElement(Fotor.ui.Checkbox,{className:"marginT20",text:Fotor.globalConfig.lang.entry_select_all,ref:"selectCheckbox",isRu:!0,noClear:!0,onClick:function(){return e.handleCheckboxClick()}}),t.createElement("div",{className:"resourceTextbtn pull-right ",onClick:function(){return e.quitBatchMode()}},Fotor.globalConfig.lang.entry_cancel_management),t.createElement("div",{className:"resourceTextbtn pull-right ",style:{display:i?"inline-block":"none",marginRight:"8px"},onClick:function(){return e.batchDelete()}},Fotor.globalConfig.lang.design_myProject_popUps_deleteConfirmButton))),t.createElement("div",{id:"upload-resource-list"},t.createElement(h,{className:"area",contentClassName:"content",verticalScrollbarStyle:{borderRadius:5,color:"#999",background:"#c8c8c8",opacity:1,width:"5px"},horizontal:!1,smoothScrolling:!0,minScrollSize:40,onScroll:this.handleScroll,ref:"scrollArea"},this.state.loading&&t.createElement("div",{className:"toolbar-loading"},t.createElement("div",{className:"loading-round"},t.createElement("div",null),t.createElement("i",null,Fotor.globalConfig.lang.design_workspace_materialList_common_loadingGuide))),s&&a.map((function(e,a){return t.createElement(M,{ref:"UploadPhotoItem_"+a,data:e.file,photoW:o.state.photoW,key:a,pos:e.pos,itemKey:a,uploadList:o,isBatchMode:o.state.isBatchMode,selectedAllMode:o.state.selectedAllMode,hdrMode:o.state.hdrMode,showMenuResId:o.state.showMenuResId,updataSelectedAllMode:function(){return o.updataSelectedAllMode()}})})),!s&&t.createElement("div",{className:"upload-resource-Image"}),!s&&n&&t.createElement("div",{className:"upload-resource-noImage-div"},Fotor.globalConfig.lang.design_workspace_upload_noImage),!s&&!n&&t.createElement("div",{className:"upload-resource-noImage-div"},Fotor.globalConfig.lang.design_workspace_upload_noSignIn),!s&&!n&&t.createElement("div",{className:"upload-resource-noImage-SingIn",onClick:o.showLoginPop},Fotor.globalConfig.lang.design_start_myProject_signInButton),this.state.beingGetNext&&t.createElement("div",{className:"loading-page",style:{display:this.state.loadFinish?"none":"block",left:"45%",position:"absolute",top:this.state.maxHeight+"px"}},t.createElement("span",null),t.createElement("span",null),t.createElement("span",null),t.createElement("span",null),t.createElement("span",null))),this.state.showMenuResId&&t.createElement("div",{className:"right-extends-panel",ref:"rightExtendPanel"},t.createElement("div",{className:"right-extends-panel-inner"},t.createElement("div",{className:"topTriangle",ref:"topTriangle"}),"editor"!==Fotor.routerManager.moduleName&&t.createElement("div",{title:Fotor.globalConfig.lang.design_workspace_tools_toBackGround,className:"btn toBackGround",onClick:this.handleToBackGroundClick},t.createElement("i",null),t.createElement("span",{className:"tip-right",style:{fontSize:"12px"}},Fotor.globalConfig.lang.design_workspace_tools_toBackGround)),!Fotor.frameMode&&!Fotor.plusEditorMode&&!Fotor.resourceManager.spaceIsFull&&t.createElement("div",{title:Fotor.globalConfig.lang.design_workspace_tools_toEditor,className:"btn toEditor",onClick:this.handleToEditorClick},t.createElement("i",null),t.createElement("span",{className:"tip-right",style:{fontSize:"12px"}},Fotor.globalConfig.lang.design_workspace_tools_toEditor)),t.createElement("div",{title:Fotor.globalConfig.lang.design_workspace_tools_deleteTips,className:"btn deleteBtn",onClick:this.handleDeleteClick},t.createElement("i",null),t.createElement("span",{className:"tip-right",style:{fontSize:"12px"}},Fotor.globalConfig.lang.design_workspace_tools_deleteTips))))))}})),M=g({displayName:"UploadPhotoItem",progressID:0,findUploadItem:function(e){if(a(e).hasClass("upload-item"))return e;var t=a(e).parent();return a(t).hasClass("upload-item")?t:this.findUploadItem(t)},componentWillUnmount:function(){this.mounted=!1,clearInterval(this.progressID),Fotor.app.off("custome_photoClick",this.sureHandleAfterClick,this,-1e3)},getInitialState:function(){return{num:0,checkingID:0,minHeight:40,thumbUrl:"",selected:!1,saveDisplay:"block"}},componentDidMount:function(){var e=this;e.mounted=!0,this.props&&this.props.data&&this.props.data.resId&&this.props.data.on(Fotor.PhotoFileState.FILE_THUMB_READY,(function(){Fotor.app.trigger("photoThumbReady"),e.forceUpdate()})),this.progressID=setInterval((function(){e.progress()}),300),Fotor.app.on("custome_photoClick",this.sureHandleAfterClick,this,-1e3)},componentWillReceiveProps:function(e){var t=this;e.isBatchMode||setTimeout((function(){t.progress(),e.showMenuResId?a(t.refs.resourceInfoIcon).css("pointer-events","none"):a(t.refs.resourceInfoIcon).css("pointer-events","auto")}),50),e.selectedAllMode&&(this.state.selected=!0)},progress:function(){var e=n.findDOMNode(this.refs.progressBar),t=n.findDOMNode(this.refs.progressCover);if(this.props.data.progress<0)"fileUploadError"==this.props.data.fileState&&a(this.refs.itemCover).addClass("upload-item-error"),a(this.refs.itemCover).css("display","block"),a(this.refs.progressBar).css("display","none"),clearInterval(this.checkingID);else{if(a(e).css("width",100*this.props.data.progress+"%"),"fileUploadError"==this.props.data.fileState)return a(this.refs.itemCover).addClass("upload-item-error"),void clearInterval(this.progressID);1==this.props.data.progress&&(null!=this.props.data.fileUrl&&""!=this.props.data.fileUrl&&"undefined"!=this.props.data.fileUrl||Fotor.routerManager.isEditor())&&(clearInterval(this.progressID),a(t).addClass("upload-item-progress-fade-out"),a(this.refs.itemCover).css("display","block"),this.setState({minHeight:10}))}},handleDragStart:function(e){if(!this.props.isBatchMode){var t=parseInt(1e3*Math.random());if(!Fotor.resourceManager.needBackgroundGuide)if(this.props.data.dragable(!0)){if("editor"==Fotor.routerManager.moduleName&&!Fotor.mainCanvas.editorPicId){var o=this.props.data;return o.thumbUrl=this.state.thumbUrl,Fotor.photoList.trigger("photoClick",o),void e.preventDefault()}this.props.uploadList&&this.props.uploadList.hideExtendPanle(),console.log("drag start enable",t);var a=document.createElement("img");a.src=this.state.thumbUrl;try{e.dataTransfer.setDragImage(a,a.width/2,a.height/2)}catch(e){}e.dataTransfer.effectAllowed="copy";Fotor.dragHelper.setCurrentDragObject(this.props.data,"fotor/photo_custome"),e.dataTransfer.setData("text","fotor/photo_custome"),Fotor.mainCanvas.trigger("photo:dragStart",{target:this.props.data})}else e.preventDefault()}},handleClick:function(e,t){if(!Fotor.resourceManager.needBackgroundGuide&&("hdr"!=Fotor.routerManager.moduleName||Fotor.resourceManager.selectMode)&&!this.props.hdrMode){Fotor.resourceManager.selectMode&&!this.props.hdrMode&&this.props.data.fileUrl&&(this.props.data.selected=!this.props.data.selected),this.props.uploadList&&this.props.uploadList.hideExtendPanle();var o=this.props.data;o.thumbUrl=this.state.thumbUrl,this.props.isBatchMode?(this.state.selected=!this.state.selected,this.props.updataSelectedAllMode&&this.props.updataSelectedAllMode()):Fotor.app.trigger("custome_photoClick",o,"byClick"),this.forceUpdate(),e.stopPropagation()}},sureHandleAfterClick:function(e){var t=this,o=e.params[0],a=e.params[1]||"byClick";if((null==o.fileId||o.fileId==this.props.data.fileId)&&(null==o.resId||o.resId==this.props.data.resId)&&this.props.data.dragable(!0)&&("editor"===Fotor.routerManager.moduleName||"hdr"===Fotor.routerManager.moduleName||null!=Fotor.projectManager.currentProjectData))if("editor"!==Fotor.routerManager.moduleName&&"hdr"!==Fotor.routerManager.moduleName&&Fotor.projectManager.currentProjectData.type!=s.ProjectType.EDITOR){if("classic"==Fotor.routerManager.childModuleName||"funky"==Fotor.routerManager.childModuleName||"artistic"==Fotor.routerManager.childModuleName||"stitching"==Fotor.routerManager.childModuleName)(r=Fotor.resourceManager.getPhotoById(t.props.data.resId))&&(r=r.toSimpleObject()),Fotor.photoManager.addResourcePhoto(r),Fotor.app.trigger(l.default.UPLOAD_PHOTO_CLICK,r);else Fotor.mainCanvas.placeObject("fotor/photo_custome",this.props.data,parseInt(1e3*Math.random()))}else{Fotor.mainCanvas.editorApplyBeforeExport();var r=Fotor.resourceManager.getPhotoById(t.props.data.resId);Fotor.projectManager.currentProjectData&&!Fotor.projectManager.currentProjectData.selectedPhotoId&&"byClick"==a&&(a="byMenu"),Fotor.projectManager.currentProjectData&&Fotor.projectManager.currentProjectData.selectedPhotoId&&(Fotor.projectManager.currentProjectData.selectedPhotoId==t.props.data.fileId||Fotor.projectManager.currentProjectData.selectedPhotoId==t.props.data.resId)?"byClick"==a&&Fotor.mainCanvas.placeObject("fotor/photo_custome",this.props.data,parseInt(1e3*Math.random())):Fotor.projectManager.currentProjectData&&null!=Fotor.projectManager.currentProjectData.selectedPhotoId&&Fotor.mainCanvas.isAnyContentDirty()&&("byMenu"==a||"editor"==Fotor.routerManager.moduleName&&"byClick"==a)?Fotor.popup.doPopup({title:Fotor.globalConfig.lang.editor_switch_photo_save_title,content:null,confirmBtnText:Fotor.globalConfig.lang.editor_switch_photo_save_jpg_confirmBtn,cancelBtnText:Fotor.globalConfig.lang.editor_switch_photo_save_cancelBtn,cancelBtnFunc:function(e){e||(r&&(r=r.toSimpleObject()),Fotor.photoManager.addResourcePhoto(r),Fotor.projectManager.createNewEditorProject(t.props.data.resId||t.props.data.fileId))}},(function(){Fotor.vipResManager.vipPermission((function(){Fotor.projectManager.exportUniqueNumber=Math.random(),Fotor.exportPop.showAndExportEditor("jpg",(function(){r&&(r=r.toSimpleObject()),Fotor.photoManager.addResourcePhoto(r),Fotor.projectManager.createNewEditorProject(t.props.data.resId||t.props.data.fileId)}))}),(function(){Fotor.projectManager.exportUniqueNumber=null,r&&(r=r.toSimpleObject()),Fotor.photoManager.addResourcePhoto(r),Fotor.projectManager.createNewEditorProject(t.props.data.resId||t.props.data.fileId)}))})):(r&&(r=r.toSimpleObject()),"byMenu"==a?(Fotor.photoManager.addResourcePhoto(r),Fotor.projectManager.createNewEditorProject(this.props.data.resId)):"byClick"==a&&("editor"==Fotor.routerManager.moduleName?(Fotor.photoManager.addResourcePhoto(r),Fotor.projectManager.createNewEditorProject(this.props.data.resId)):Fotor.mainCanvas.placeObject("fotor/photo_custome",this.props.data,parseInt(1e3*Math.random()))))}},handleDragEnd:function(e){this.props.isBatchMode||Fotor.mainCanvas.trigger("photo:dragEnd")},retryTimes:0,handleThumpError:function(e){var t=this,o=e.target,a=o.src;""!=a&&-1!==a.indexOf("base64")||this.retryTimes++>10||setTimeout((function(){a=a.replace(/(\?.*)?$/g,"")+"?"+Math.random(),o.src=a,t.state.thumbUrl=a}),2e3)},handleClickExtendRight:function(e){var t=0;0==this.props.pos.scPos?t=a(this.refs.rightExtendBtn).offset().left-a("#upload-resource-list").offset().left-20:1==this.props.pos.scPos?t=a(this.refs.rightExtendBtn).offset().left-a("#upload-resource-list").offset().left-60:2==this.props.pos.scPos&&(t=a(this.refs.rightExtendBtn).offset().left-a("#upload-resource-list").offset().left-110);var o=a(this.refs.rightExtendBtn).offset().top-a("#upload-resource-list").offset().top+20;this.props.uploadList&&(a(this.refs.rightExtendBtn).addClass("active"),this.props.uploadList.showExtendPanle(this.props.data.resId,t,o,this.props.pos.scPos)),this.forceUpdate(),e.stopPropagation()},handledeleteCheckBoxClick:function(e){this.state.selected=!this.state.selected,this.props.updataSelectedAllMode&&this.props.updataSelectedAllMode(),this.forceUpdate(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},handleClickInfoIcon:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},render:function(){var e=this;this.state.thumbUrl=this.props.data.thumbUrl;var o=""!=this.props.data.thumbUrl?"block":"none",a=this.props.data.selected&&Fotor.resourceManager.selectMode,r=this.props.photoW+"px",n=(this.props.photoW-20).toString()+"px",s=Fotor.projectManager.currentProjectData&&Fotor.projectManager.currentProjectData.selectedPhotoId==this.props.data.resId?"active":"";return t.createElement("div",{className:"upload-item clearfix"+s,"data-url":this.props.data.fileUrl,style:{position:"absolute",marginTop:0,marginRight:0,left:this.props.pos.left,top:this.props.pos.top,display:o,opacity:Fotor.dragFile?.5:1,width:r,minHeight:this.state.minHeight,background:this.props.data.progress>=1?"none":"rgba(255,255,255,.5)"},draggable:Fotor.resourceManager.needBackgroundGuide||this.props.isBatchMode?"false":"true",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:this.handleClick},t.createElement(p,null,t.createElement("img",{ref:"thumb",src:this.state.thumbUrl,onError:this.handleThumpError})),t.createElement("div",{className:"upload-item-progress",style:{left:"0"},ref:"progressCover"},t.createElement("div",{ref:"progressBar"})),!this.props.isBatchMode&&t.createElement("div",{className:"upload-item-cover",ref:"itemCover"},t.createElement("div",{className:"upload-item-more",ref:"rightExtendBtn",onClick:this.handleClickExtendRight}),t.createElement("div",{className:"resource-info-icon",ref:"resourceInfoIcon",onClick:function(t){return e.handleClickInfoIcon(t)}},t.createElement("div",{className:"clearfix resource-info-expand ",ref:"resourceInfoExpand",style:{width:r}},t.createElement("div",{className:"resource-info-arrow"}),t.createElement("div",{className:"resource-file-name",style:{width:n}},this.props.data.fileName)))),this.props.isBatchMode&&this.props.data.progress>=1&&t.createElement("div",{className:"checkboxBg"}),this.props.isBatchMode&&this.props.data.progress>=1&&t.createElement("div",{className:"checkbox batchBox"+(this.state.selected?" active":""),ref:"deleteCheckbox",onClick:function(t){return e.handledeleteCheckBoxClick(t)}},t.createElement("div",{className:"round"})),a&&t.createElement("div",{className:"upload-item-selected"}))}});e.exports=m}).call(this,o(0),o(2),o(24),o(18))}}]);